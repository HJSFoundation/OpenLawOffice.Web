@model OpenLawOffice.Web.ViewModels.Matters.MatterContactViewModel

@{ 
    ViewBag.Title = "Assign Contact to Matter";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div id="roadmap">
    <div class="zero">Matter: [@(Html.ActionLink((string)ViewData["Matter"], "Details", "Matters", new { id = ViewData["MatterId"] }, null))]</div>
    <div id="current" class="one">Assign Contact to Matter<a id="pageInfo" class="btn-question" style="padding-left: 15px;">Help</a></div>
</div>
            
@using (Html.BeginForm())
    {
@(Html.ValidationSummary(true))
<table class="detail_table">
    <tr>
        <td class="display-label">
            Matter
        </td>
        <td class="display-field">
            @(Html.HiddenFor(model => model.Matter.Id))
            @(Html.ActionLink(Model.Matter.Title, "Details", "Matters", new { id = Model.Matter.Id }, null))
        </td>
    </tr>
    <tr class="tr_alternate">
        <td class="display-label">
            Contact
        </td>
        <td class="display-field">
            @(Html.HiddenFor(model => model.Contact.Id))
            @(Html.ActionLink(Model.Contact.DisplayName, "Details", "Contacts", new { id = Model.Contact.Id }, null))
        </td>
    </tr>
    <tr>
        <td class="display-label">
            User Defined Role<span class="required-field" title="Required Field">*</span>
        </td>
        <td class="display-field">
            @(Html.TextBoxFor(model => model.Role))
            @(Html.ValidationMessageFor(model => model.Role))<br />
            Special Roles:  <a href="#" id="LeadAttorney">Lead Attorney</a>, 
                            <a href="#" id="Attorney">Attorney</a>, 
                            <a href="#" id="OpposingAttorney">Opposing Attorney</a>, 
                            <a href="#" id="Client">Client</a>, 
                            <a href="#" id="ThirdPartyPayor">Third-Party Payor</a>, 
                            <a href="#" id="AppointedClient">Appointed Client</a>, 
                            <a href="#" id="OpposingParty">Opposing Party</a>
            <script language="javascript">
            $(document).ready(function () {
                $("#LeadAttorney").click(function () {
                    $("#Role").val("Lead Attorney");
                    return false;
                });
                $("#Attorney").click(function () {
                    $("#Role").val("Attorney");
                    return false;
                });
                $("#OpposingAttorney").click(function () {
                    $("#Role").val("Opposing Attorney");
                    return false;
                });
                $("#Client").click(function () {
                    $("#Role").val("Client");
                    return false;
                });
                $("#ThirdPartyPayor").click(function () {
                    $("#Role").val("Third-Party Payor");
                    return false;
                });
                $("#AppointedClient").click(function () {
                    $("#Role").val("Appointed Client");
                    return false;
                });
                $("#OpposingParty").click(function () {
                    $("#Role").val("Opposing Party");
                    return false;
                });
                $('#AttorneyFor_DisplayName').focus(function () {
                    $("#AttorneyFor_Id").val('');
                    $('#AttorneyFor_DisplayName').val('');
                });
                $('#AttorneyFor_DisplayName').autocomplete({
                    source: "/Contacts/ListDisplayNameOnly",
                    minLength: 2,
                    focus: function (event, ui) {
                        $("#AttorneyFor_Id").val(ui.item.Id);
                        $("#AttorneyFor_DisplayName").val(ui.item.DisplayName);
                        return false;
                    },
                    select: function (event, ui) {
                        $("#AttorneyFor_Id").val(ui.item.Id);
                        $("#AttorneyFor_DisplayName").val(ui.item.DisplayName);
                        return false;
                    }
                }).data("ui-autocomplete")._renderItem = function (ul, item) {
                    return $("<li>")
                    .append("<a>" + item.DisplayName + "</a>")
                    .appendTo(ul);
                };
                $('#SupportStaffFor_DisplayName').focus(function () {
                    $("#SupportStaffFor_Id").val('');
                    $('#SupportStaffFor_DisplayName').val('');
                });
                $('#SupportStaffFor_DisplayName').autocomplete({
                    source: "/Contacts/ListDisplayNameOnly",
                    minLength: 2,
                    focus: function (event, ui) {
                        $("#SupportStaffFor_Id").val(ui.item.Id);
                        $("#SupportStaffFor_DisplayName").val(ui.item.DisplayName);
                        return false;
                    },
                    select: function (event, ui) {
                        $("#SupportStaffFor_Id").val(ui.item.Id);
                        $("#SupportStaffFor_DisplayName").val(ui.item.DisplayName);
                        return false;
                    }
                }).data("ui-autocomplete")._renderItem = function (ul, item) {
                    return $("<li>")
                    .append("<a>" + item.DisplayName + "</a>")
                    .appendTo(ul);
                };
                $('#ThirdPartyPayorFor_DisplayName').focus(function () {
                    $("#ThirdPartyPayorFor_Id").val('');
                    $('#ThirdPartyPayorFor_DisplayName').val('');
                });
                $('#ThirdPartyPayorFor_DisplayName').autocomplete({
                    source: "/Contacts/ListDisplayNameOnly",
                    minLength: 2,
                    focus: function (event, ui) {
                        $("#ThirdPartyPayorFor_Id").val(ui.item.Id);
                        $("#ThirdPartyPayorFor_DisplayName").val(ui.item.DisplayName);
                        return false;
                    },
                    select: function (event, ui) {
                        $("#ThirdPartyPayorFor_Id").val(ui.item.Id);
                        $("#ThirdPartyPayorFor_DisplayName").val(ui.item.DisplayName);
                        return false;
                    }
                }).data("ui-autocomplete")._renderItem = function (ul, item) {
                    return $("<li>")
                    .append("<a>" + item.DisplayName + "</a>")
                    .appendTo(ul);
                };
            });
            </script>
        </td>
    </tr>
    <tr class="tr_alternate">
        <td class="display-label">
            Contact is <span style="text-decoration: underline;">Client</span>
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsClient))
        </td>
    </tr>
    <tr>
        <td class="display-label">
            Contact is the <span style="text-decoration: underline;">point of contact</span> for Client
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsClientContact))
        </td>
    </tr>
    <tr class="tr_alternate">
        <td class="display-label">
            Contact is an <span style="text-decoration: underline;">appointed</span> client
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsAppointed))
        </td>
    </tr>
    <tr>
        <td class="display-label">
            Contact is a <span style="text-decoration: underline;">party</span> to the matter
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsParty))
        </td>
    </tr>
    <tr class="tr_alternate">
        <td class="display-label">
            <span style="text-decoration: underline;">Title</span> for party (e.g., Defendant, Petitioner, etc.)
        </td>
        <td class="display-field">
            @(Html.TextBoxFor(model => model.PartyTitle))
            @(Html.ValidationMessageFor(model => model.PartyTitle))
        </td>
    </tr>
    <tr>
        <td class="display-label">
            Contact is a <span style="text-decoration: underline;">judge</span>
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsJudge))
        </td>
    </tr>
    <tr class="tr_alternate">
        <td class="display-label">
            Contact is a <span style="text-decoration: underline;">witness</span>
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsWitness))
        </td>
    </tr>
    <tr>
        <td class="display-label">
            Contact is an <span style="text-decoration: underline;">attorney</span> for another contact
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsAttorney))
        </td>
    </tr>
    <tr class="tr_alternate">
        <td class="display-label">
            Contact that <span style="text-decoration: underline;">attorney is representing</span>
        </td>
        <td class="display-field">
            @(Html.HiddenFor(model => model.AttorneyFor.Id))
            @(Html.TextBoxFor(model => model.AttorneyFor.DisplayName))
            @(Html.ValidationMessageFor(model => model.AttorneyFor))
        </td>
    </tr>
    <tr>
        <td class="display-label">
            Contact is the <span style="text-decoration: underline;">lead attorney</span>
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsLeadAttorney))
        </td>
    </tr>
    <tr class="tr_alternate">
        <td class="display-label">
            Contact is <span style="text-decoration: underline;">support staff</span> for contact
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsSupportStaff))
        </td>
    </tr>
    <tr>
        <td class="display-label">
            <span style="text-decoration: underline;">Support staff</span> for contact
        </td>
        <td class="display-field">
            @(Html.HiddenFor(model => model.SupportStaffFor.Id))
            @(Html.TextBoxFor(model => model.SupportStaffFor.DisplayName))
            @(Html.ValidationMessageFor(model => model.SupportStaffFor))
        </td>
    </tr>
    <tr class="tr_alternate">
        <td class="display-label">
            Contact is a <span style="text-decoration: underline;">third party payor</span>
        </td>
        <td class="display-field">
            @(Html.CheckBoxFor(model => model.IsThirdPartyPayor))
        </td>
    </tr>
    <tr>
        <td class="display-label">
            <span style="text-decoration: underline;">Third party payor</span> for contact
        </td>
        <td class="display-field">
            @(Html.HiddenFor(model => model.ThirdPartyPayorFor.Id))
            @(Html.TextBoxFor(model => model.ThirdPartyPayorFor.DisplayName))
            @(Html.ValidationMessageFor(model => model.ThirdPartyPayorFor))
        </td>
    </tr>
</table>
<p>
    <input type="submit" value="Save" />
</p>
}
<div id="pageInfoDialog" title="Help">
    <p>
    <span style="font-weight: bold; text-decoration: underline;">Info:</span>
    Fill in the information on this page to assign a contact to a matter.  Required fields are indicated with an
    <span style="color: #ee0000;font-size: 12px;cursor:help;" title="Required Field">*</span>.<br /><br />
    <span style="font-weight: bold; text-decoration: underline;">Usage:</span>
    Fields marked with an <span style="color: #ee0000;font-size: 12px;cursor:help;" title="Required Field">*</span> are required.
    </p>
</div> 